function scaleMap(){var e=$("header").height(),o=$(document).height(),a=o-e;$("#map").height(a)}function initMap(){function e(e){var o=e.geometry.location.lat(),a=e.geometry.location.lng(),n=e.formatted_address,r=window.mapBounds;new google.maps.Marker({map:t,position:e.geometry.location,title:n});r.extend(new google.maps.LatLng(o,a)),t.fitBounds(r),t.setCenter(r.getCenter())}function o(){var e=new google.maps.places.PlacesService(t);for(var o in myNeighborhood){var n={query:myNeighborhood[o].name};e.textSearch(n,a)}}function a(o,a){a==google.maps.places.PlacesServiceStatus.OK&&e(o[0])}scaleMap();var t=new google.maps.Map(document.getElementById("map"));window.mapBounds=new google.maps.LatLngBounds,o()}var myNeighborhood=[{name:"Kriminalmuseum, Rothenburg ob der Tauber",type:"Museum"},{name:"Molkerei, Rothenburg",type:"Restaurant, Bar, Food, Music"},{name:"Reiterlesmarkt, Rothenburg",type:"Event, Food, Outdoor"},{name:"Lotusgarten, Rothenburg",type:"Restaurant, Food, Outdoor"},{name:"RÃ¶dertor, Rothenburg",type:"Outdoor, Landmark"}],ViewModel=function(){var e=this;e.locationList=ko.observableArray([]),e.query=ko.observable(""),e.searchBy=ko.observable("name"),myNeighborhood.forEach(function(o){e.locationList.push(o)}),e.search=function(){e.locationList.removeAll(),myNeighborhood.forEach(function(o){"name"==e.searchBy()?o.name.toLowerCase().indexOf(e.query().toLowerCase())>=0&&e.locationList.push(o):"type"==e.searchBy()&&o.type.toLowerCase().indexOf(e.query().toLowerCase())>=0&&e.locationList.push(o),scaleMap()})}};ko.applyBindings(new ViewModel);